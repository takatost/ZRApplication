package com.zr.deliver.presenter;import com.zr.deliver.biz.IOrderBiz;import com.zr.deliver.biz.OnRequestListener;import com.zr.deliver.biz.OrderBiz;import com.zr.deliver.model.DeliveryFinish;import com.zr.deliver.model.OrderHistoryDelivery;import com.zr.deliver.view.IOrderView;import java.util.List;/** * Created by Administrator on 2015/7/3. */public class OrderPresenter implements OrderBiz.HandlerBindData {    private IOrderBiz orderBiz;    private IOrderView orderView;    public OrderPresenter(IOrderView orderView, int orderState) {        //获取v，实际是用户交互界面        this.orderView = orderView;        //创建m，实际是获取真实数据        orderBiz = new OrderBiz(orderView.getContext(), this, orderState);    }    @Override    public void notiDataChanged() {        loadAllData();    }    public void loadAllData() {        orderView.showLoading();        List<OrderHistoryDelivery> data = orderBiz.queryOrderData();        orderView.bindData(data);        orderView.hideLoading();    }    public void finishOrderItem(DeliveryFinish finish) {        orderBiz.deleteOrderItem(finish, new OnRequestListener() {            @Override            public void loginSuccess() {                //成功完成订单            }            @Override            public void loginFailed(int errorId) {                //失败                orderView.showFailedError(3);            }        });    }    public void toDetailActivity(OrderHistoryDelivery orderHistoryDelivery) {        orderView.toDetailActivity(orderHistoryDelivery);    }    public void clear() {        orderBiz.clear();    }}